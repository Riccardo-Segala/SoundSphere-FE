<div class="container p-2 bg-black bg-opacity-10 rounded-2">
    <form [formGroup]="profileForm" (ngSubmit)="registrazione()">
        <div class="row justify-content-center">
            <div class="col-xxl-6 col-xl-6 col-lg-12 col-md-12 d-flex p-2 align-items-center justify-content-center">
                <div class="profile-pic-container" (click)="fileInput.click()">
                    <img src="http://localhost:8080{{previewUrl}}" alt="{{utente.nome}} {{utente.cognome}}">
                    <div class="overlay">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                             class="feather feather-camera">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                            <circle r="4" cx="12" cy="13"></circle>
                        </svg>
                    </div>
                    <input type="file" #fileInput (change)="fileSelezionato($event)" accept="image/*"/>
                </div>
            </div>
            <div class="col-xxl-6 col-xl-6 col-lg-12 col-md-12 p-2 align-items-center justify-content-center px-4">
                <div class="mb-3">
                    <label class="form-label">Nome:</label>
                    <input class="form-control" type="text" formControlName="nome"/>
                </div>
                <div class="mb-3">
                    <label class="form-label">Cognome:</label>
                    <input class="form-control" type="text" formControlName="cognome"/>
                </div>
                <div class="mb-3">
                    <label class="form-label">Email:</label>
                    <input class="form-control" type="email" formControlName="email"/>
                </div>
                <div class="mb-3">
                    <label class="form-label" *ngIf="!modifica">Password:</label>
                    <input class="form-control" type="password" *ngIf="!modifica" formControlName="password"/>
                </div>
                <div class="mb-3">
                    <label class="form-label">Data di Nascita:</label>
                    <input class="form-control" type="date" formControlName="dataDiNascita"/>
                </div>
                <div class="mb-3">
                    <label class="form-label">Sesso:</label>
                    <div class="d-flex gap-2">
                        <div class="form-check form-check-inline">
                            <label class="form-check-label flex-fill">
                                <input class="form-check-input" type="radio" value="MASCHIO" formControlName="sesso">
                                Maschio
                            </label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label flex-fill">
                                <input class="form-check-input" type="radio" value="FEMMINA" formControlName="sesso">
                                Femmina
                            </label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label flex-fill">
                                <input class="form-check-input" type="radio" value="NON_SPECIFICATO" formControlName="sesso">
                                Altro
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div *ngIf="!modifica">
                <h3 class="mb-3">Indirizzo di Residenza</h3>
                <app-form-indirizzi #formIndirizzo *ngIf="!modifica" [modifica]="modifica"></app-form-indirizzi>
            </div>
        </div>
        <div class="row justify-content-center">
            <button type="submit" class="btn btn-primary w-50 mt-3" name="salvataggio-profilo" [disabled]="isFormInvalid">
                {{ modifica ? 'Salva' : 'Registrati'}}
            </button>
        </div>
    </form>
</div>